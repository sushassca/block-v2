{"version":3,"file":"_server-2dac9395.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/_server.js"],"sourcesContent":["import { JSONPreset } from \"lowdb/node\";\nimport { j as json } from \"../../../chunks/index.js\";\nimport { io } from \"socket.io-client\";\nconst socket = io(\"ws://localhost:3000\");\nconst layout = [\n  [[\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null]],\n  [[\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null]],\n  [[\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null]],\n  [[\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null]],\n  [[\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null], [\"f1\", null]]\n];\nconst db = await JSONPreset(\"db.json\", { FOREST: layout });\nawait db.read();\nawait db.write();\nfunction GET() {\n  return json(db.data.FOREST);\n}\nasync function POST({ request, cookies }) {\n  const data = await request.json();\n  const { type } = data;\n  switch (type) {\n    case \"getBlock\":\n      return json(db.data.FOREST[data.row][data.col]);\n    case \"putBlock\":\n      db.data.FOREST[data.row][data.col] = data.block;\n      await db.write();\n      socket.emit(\"action\", { row: data.row, col: data.col, result: db.data.FOREST[data.row][data.col] });\n      return json(db.data.FOREST[data.row][data.col]);\n    default:\n      return json(db.data.FOREST);\n  }\n}\nexport {\n  GET,\n  POST\n};\n"],"names":[],"mappings":"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"}